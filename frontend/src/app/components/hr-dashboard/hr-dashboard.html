<div class="hr-dashboard">
  <div class="header">
    <div class="title-section">
      <h1>üè¢ Human Resources</h1>
      <p>Gesti√≥n de empleados y recursos humanos</p>
    </div>
    <button class="add-btn" (click)="showAddForm = !showAddForm">
      {{ showAddForm ? 'Cancelar' : '+ Agregar Empleado' }}
    </button>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-number">{{ getActiveEmployeesCount() }}</div>
      <div class="stat-label">Empleados Activos</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">{{ allEmployees.length }}</div>
      <div class="stat-label">Total Empleados</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">${{ getTotalSalaries() | number:'1.0-0' }}</div>
      <div class="stat-label">N√≥mina Total</div>
    </div>
    <div class="stat-card">
      <div class="stat-number">{{ departments.length }}</div>
      <div class="stat-label">Departamentos</div>
    </div>
  </div>

  <!-- Add Employee Form -->
  <app-add-employee-form 
    *ngIf="showAddForm" 
    [employeeToEdit]="employeeToEdit"
    (employeeAdded)="onEmployeeAdded()">
  </app-add-employee-form>

  <!-- Filter Buttons -->
  <div class="filter-container">
    <button 
      class="filter-btn" 
      [ngClass]="getFilterButtonClass('all')"
      (click)="setFilter('all')">
      Todos ({{ allEmployees.length }})
    </button>
    <button 
      class="filter-btn" 
      [ngClass]="getFilterButtonClass('active')"
      (click)="setFilter('active')">
      Activos ({{ getActiveEmployeesCount() }})
    </button>
    <button 
      class="filter-btn" 
      [ngClass]="getFilterButtonClass('inactive')"
      (click)="setFilter('inactive')">
      Inactivos ({{ getInactiveEmployeesCount() }})
    </button>
    @for (dept of departments; track dept) {
      <button 
        class="filter-btn" 
        [ngClass]="getFilterButtonClass(dept)"
        (click)="setFilter(dept)">
        {{ dept }} ({{ getEmployeeCountByDepartment(dept) }})
      </button>
    }
  </div>

  <!-- Results Counter -->
  <div class="results-info">
    Mostrando {{ getEmployeeCount() }} empleado{{ getEmployeeCount() === 1 ? '' : 's' }}
  </div>

  <!-- Employee Grid -->
  <div class="employees-grid">
    @for (employee of filteredEmployees; track employee.id) {
      <app-employee-card 
        [employee]="employee"
        (editEmployee)="onEditEmployee($event)"
        (deleteEmployee)="onDeleteEmployee($event)">
      </app-employee-card>
    }
  </div>

  <!-- Empty State -->
  <div *ngIf="filteredEmployees.length === 0" class="empty-state">
    <div class="empty-icon">üë•</div>
    <h3>No se encontraron empleados</h3>
    <p>
      @if (currentFilter === 'all') {
        Comience agregando su primer empleado al sistema.
      } @else {
        No hay empleados que coincidan con el filtro "{{ currentFilter }}".
      }
    </p>
    <button class="add-btn" (click)="showAddForm = true" *ngIf="currentFilter === 'all'">
      + Agregar Primer Empleado
    </button>
  </div>
</div>